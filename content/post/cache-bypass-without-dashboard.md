---
title: "Cloudflareのキャッシュで更新が反映されない！ダッシュボードにアクセスできない時の対処法"
date: 2025-12-17
tags: ["Cloudflare", "キャッシュ", "トラブルシューティング", "運用", "CDN"]
summary: "Cloudflareを導入しているサイトで、ファイルを更新したのに反映されない...原因がキャッシュだと分かっているのに、ダッシュボードにログインできない、または権限がないという状況はありませんか？そんな時でも使える実践的な解決方法を紹介します。"
---

コンテンツを更新したはずが、キャッシュのせいで、反映されない・・・！
理由はCloudflareだとわかっているのが、どうするばいい？
と、困ってしまうことがないでしょうか。

実務でよくあるこんなピンチ
- クライアント側がCloudflareの管理者権限を持っていて、自分には権限がない
- 緊急対応が必要だが、管理者に連絡がとれない
- パスワードやアカウント情報が分からない

実は、こういった状況でも、Cloudflareのキャッシュを回避する方法があります。

## 方法1: URLパラメータを付加してキャッシュをバイパス

最も簡単で即効性のある方法です。URLの末尾にクエリパラメータを追加することで、Cloudflareは「別のURL」として認識し、オリジンサーバから新しいファイルを取得します。

### 具体例

更新前のURL:
```
https://example.com/css/style.css
https://example.com/js/script.js
```

更新後のURL:
```
https://example.com/css/style.css?v=2
https://example.com/js/script.js?update=20251217
```

### パラメータの付け方のバリエーション

- **バージョン番号**: `?v=1`, `?v=2`, `?version=1.0.1`
- **日付**: `?date=20251217`, `?update=2025-12-17`
- **タイムスタンプ**: `?t=1702789200`
- **任意の文字列**: `?cache=bust`, `?refresh=true`

パラメータ名や値は何でも構いません。重要なのは「以前と異なるURL」にすることです。

### 注意点

- HTML内の参照パスも更新する必要があります
- 複数のファイルを更新する場合は、すべてのファイルパスを変更
- 画像ファイル、CSS、JavaScriptなど、キャッシュされているすべてのアセットに適用可能

## 方法2: ファイル名を変更する

ファイル名自体を変更することで、確実に新しいファイルとして扱われます。

### 具体例

変更前:
```
style.css
script.js
logo.png
```

変更後:
```
style_v2.css
script_20231217.js
logo_new.png
```

### ファイル名変更のパターン

1. **バージョン番号を追加**: `style_v2.css`, `style_v3.css`
2. **日付を追加**: `script_20231217.js`
3. **連番を追加**: `style_001.css`, `style_002.css`

### この方法のメリット

- 完全に別ファイルとして扱われるため、確実
- 過去のバージョンも残せるので、ロールバックが容易
- キャッシュ期間に関係なく即座に反映

### 注意点

- HTML内の参照パスを必ず更新
- 古いファイルが残るため、サーバ容量を圧迫する可能性
- 定期的に古いファイルを削除する運用が必要

## 実務での使い分け

### URLパラメータが向いているケース

- 緊急で素早く対応したい
- 同じファイル名を維持したい
- 頻繁に更新するファイル

### ファイル名変更が向いているケース

- 確実性を最優先したい
- バージョン管理をしっかり行いたい
- ロールバックの可能性がある

## まとめ

Cloudflareのダッシュボードにアクセスできない状況でも、URLパラメータの追加やファイル名の変更により、キャッシュをバイパスできます。